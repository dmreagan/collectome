<main role="main" class="main-top-margin">
  <div class="grid-container">
    <section class="text-center callout warning" ng-if="!$ctrl.authentication.isAuthorized">
      <h4>Please log in.</h4>
    </section>

    <section class="section" ng-if="$ctrl.authentication.isAuthorized">

      <section class="section" ng-if="$ctrl.playlistIdIsValid">
        <div ng-class="$ctrl.message_style">
          <h4 class="text-center">{{$ctrl.info_message}}</h4>
        </div>
      </section>

      <section class="section" ng-if="$ctrl.playlistIdIsValid">

        <h2>
          {{$ctrl.config.metadata.name}}
          <small>{{$ctrl.playlistId}}</small>
        </h2>

        <section class="section" ng-if="$ctrl.playlistEditPageCanbeDisplayed">

          <div>
            <playlist-config-editor config="$ctrl.config" on-update="$ctrl.updateConfig(config)">
            </playlist-config-editor>
            <br>
          </div>


          <div class="content">
            <div class="text-center callout secondary" ng-if="$ctrl.isOwner">
              <h4>Update this playlist</h4>
              <button class="button warning" ng-click="$ctrl.save()">
                <angularjs-feather icon="save"></angularjs-feather>
                Save changes
              </button>
            </div>

            <div class="text-center section bg-gray" ng-if="!$ctrl.isOwner">
              <h4>You are not the owner of this playlist</h4>
            </div>

            <div class="section">
              <button class="button hollow" ng-click="$ctrl.goToPlaylists()">
                <angularjs-feather icon="arrow-left"></angularjs-feather>
                Back to search
              </button>
            </div>
          </div>

        </section>

        <section class="callout alert" ng-if="!$ctrl.playlistEditPageCanbeDisplayed">
          <h4>You are either not the owner or the playlist is set to be private</h4>
        </section>
      </section>
    </section>
  </div>
</main>
